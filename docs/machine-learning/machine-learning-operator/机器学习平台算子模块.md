机器学习平台算子模块

## 一、背景
在机器学习任务中，涉及到较多的数据处理和算法操作。为了避免重复”造轮子”，提高算法工程师的工作效率，在机器学习平台上设计算子模块，对算子进行统一的管理。
算子是数据处理或者具体算法的抽象，表示的是输入数据通过某种特定操作得到输出的过程。利用开发好的算子，可以像搭积木一样快速构建业务模型管道。每个算子具有特定的目的，它们之间相对独立，能够独立升级和维护。算子模块通过算子间的组合为机器学习平台提供了丰富的算法能力。


**二、实现方案**
** **
在算子模块工程实现过程中，将机器学习涉及到的算子抽象为3个接口：

l  AlgParameters：算子依赖的参数集合。

l  Algorithm：具体的算子实现逻辑。

l  Model：通过算子处理后的输出模型，可以是数据表或者模型文件。

![1.png](./img/机器学习平台算子模块/image1.png)

通过继承上述接口，重写相关属性和方法并添加算子特有的属性和方法，实现了算子开发的标准化。下面以Node2Vec算子为例，说明开发算子的步骤：

![2.png](./img/机器学习平台算子模块/image2.png)

1. 生成Node2VecAlgorithm、Node2VecParameters、Node2VecModel类继承抽象接口。
2. 重写接口中的相关属性和方法。
3. 新增Node2Vec算子特有的属性和方法。
4. 重新编译并打包算子工程，在机器学习平台的公共组件项目中对算子进行配置。

**三、业务应用**

** **
目前在机器学习平台上已经实现了包括特征处理和评估、图算法、序列算法、模型可解释性、评分模型、推荐模型、异常检测等几大类的算子。通过对算子进行组合和拼接，构建完整的算法解决方案，现已广泛应用于推荐、风控、用户增长等业务场景。

下面是一个在风控业务中识别黑产用户应用的具体案例：

![3.png](./img/机器学习平台算子模块/image3.png)


在机器学习平台上配置由各算子组合的管道任务流，算子graph_build_sychroTrap_operator对用户关联行为进行构图，算子graph_sample_randomWalk_operator对关联关系图进行随机游走采样，然后通过算子graph_embedding_node2vec_operator生成用户embedding向量特征。算子feature_evaluation_operator对统计类特征进行评估筛选，结合上述生成embedding特征通过算子score_model_train_operator 训练评分模型，并使用算子 score_model_predict_operator对用户风险分数进行预测，将高分用户识别为黑产用户，最后利用interpreter_train_operator和interpreter_predict_operator对识别的结果进行解释。

 

