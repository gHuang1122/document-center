## 闸机模拟器部署详情

1、harbor仓库下载所需镜像

```bash
docker pull harbor.software.dc/devicemanager/dm-gate-service:latest

docker pull harbor.software.dc/devicemanager/dm-gate-web:latest
```

2、创建docker-compose.yml文件

```yaml
version: "3"
services:
  gate-service:
    container_name: gate-service
    restart: always
    image: harbor.software.dc/devicemanager/dm-gate-service:latest
    volumes:
      - /etc/localtime:/etc/localtime
    ports:
      - "8081:8081"
      - "9102:9102"
    environment:
      - TZ="Asia/Shanghai"
    logging:
      options:
        max-size: 10mb

  gate-web:
    restart: always
    image: harbor.software.dc/devicemanager/dm-gate-web:latest
    container_name: gate-web
    ports:
      - 8888:80
    depends_on:
      - gate-service
    logging:
      options:
        max-size: 10mb
```

3、启动命令

docker-compose up 

4、关闭命令

docker-compose down

5、同一台服务器开启多个闸机

1. 创建多个docker-compose.yml文件，文件名不能重复，更改容器名、服务名称、端口。
2. 启动命令  docker-compose -f (指定docker-compose文件名) up -d
3. 关闭命令  docker-compose -f (指定docker-compose文件名) down