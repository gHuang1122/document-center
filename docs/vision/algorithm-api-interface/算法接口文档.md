### 1、安全帽检测

#### 1.1 描述

传入图片进行安全帽检测。

传入一张图片，对图片中人员人否佩戴安全帽进行检测，返回人员数量和是否戴安全帽。

#### 1.2  请求

调用地址：tcp://127.0.0.1:5559

接口ID： 24

请求方式：zmq

请求类型：json message

频率控制：无

| 是否必选 | 参数名 | 类型 | 参数说明 |

| :------: | :----: | :--: | :------: |

| 必选 | interface | String | 调用此API的API ID |

| 必选 | api\_key | String | 调用此 API 的 API Key |

| 必选 | image\_base64 | String| 图片 base64 编码 |

| 可选 | threshold | Float | 0-1，默认为0.6 |

#### 1.3  返回

返回类型：JSON

| 参数名 | 类型 | 参数说明 |

| :----: | :--: | :------: |

| request\_id | String | 用于区分每一次请求的唯一的字符串 |

| person\_nums | Int | 图片中人员数量 |

| info | Array | 人员安全帽信息 |

| info.label | int| 0 -- 戴安全帽 ； 1 -- 未 戴安全帽|

|info.rect | Array | 人员的轮廓，四个数据分别为左上宽高|

| error\_id | Int | 0则检测成功 |

| error\_message | String |&quot;helmet detect success&quot; 检测成功 |

| time\_used | Int | 整个请求所花费的时间，单位为毫秒 |

#### 1.4  返回示例

```json

{
    "info":[
                    {"label":0,rect":[400,0,194,1113]},
                    {"label":1,"rect":[176,0,219,1040]}
                   ],
    "error_id":0,
    "error_message":"helmet detect success",
    "person_nums":2,
    "request_id":"bd520980-99c4-4793-8d03-63f551dfa40d",
    "time_used":65
}

```

### 2、口罩检测

#### 2.1  描述

传入图片进行口罩检测。

传入一张图片，对图片中人员人否佩戴口罩进行检测，返回人员数量和是否戴口罩。

#### 2.2  请求

调用地址：tcp://127.0.0.1:5559

接口ID： 26

请求方式：zmq

请求类型：json message

频率控制：无

| 是否必选 | 参数名 | 类型 | 参数说明 |

| :------: | :----: | :--: | :------: |

| 必选 | interface | String | 调用此API的API ID |

| 必选 | api\_key | String | 调用此 API 的 API Key |

| 必选 | image\_base64 | String| 图片 base64 编码 |

| 可选 | threshold | Float | 0-1，默认为0.6 |

#### 2.3  返回

返回类型：JSON

| 参数名 | 类型 | 参数说明 |

| :----: | :--: | :------: |

| request\_id | String | 用于区分每一次请求的唯一的字符串 |

| person\_nums | Int | 图片中人员数量 |

| info | Array | 人员口罩信息 |

| info.label | int| 0 -- 戴口罩 ； 1 -- 未 戴口罩|

|info.rect | Array | 人员的轮廓，四个数据分别为左上宽高|

| error\_id | Int | 0则检测成功 |

| error\_message | String |&quot;mask detect success&quot; 检测成功 |

| time\_used | Int | 整个请求所花费的时间，单位为毫秒 |

#### 2.4  返回示例

```json

{
    "info":[
                    {"label":0,rect":[400,0,194,1113]},
                    {"label":1,"rect":[176,0,219,1040]}
                   ],
    "error_id":0,
    "error_message":"mask detect success",
    "person_nums":2,
    "request_id":"bd520980-99c4-4793-8d03-63f551dfa40d",
    "time_used":65
}

```

### 3 、工作服检测

#### 3.1  描述

传入图片进行工作服检测。

传入一张图片，对图片中人员进行工作服检测，返回人员数量和是否穿工作服。

#### 3.2  请求

调用地址：tcp://127.0.0.1:5559

接口ID： 27

请求方式：zmq

请求类型：json message

频率控制：无

| 是否必选 | 参数名 | 类型 | 参数说明 |

| :------: | :----: | :--: | :------: |

| 必选 | interface | String | 调用此API的API ID |

| 必选 | api\_key | String | 调用此 API 的 API Key |

| 必选 | image\_base64 | String| 图片 base64 编码 |

| 可选 | threshold | Float | 0-1，默认为0.6 |

#### 3.3  返回

返回类型：JSON

| 参数名 | 类型 | 参数说明 |

| :----: | :--: | :------: |

| request\_id | String | 用于区分每一次请求的唯一的字符串 |

| person\_nums | Int | 图片中人员数量 |

|info | Array | 人员工作服信息 |

| info.label | int| 0 -- 穿工作服； 1 -- 未穿工作服|

| info.rect | Array | 人员的轮廓，四个数据分别为左上宽高|

| error\_id | Int | 0则检测成功 |

| error\_message | String |&quot;clothes detect success&quot; 检测成功 |

| time\_used | Int | 整个请求所花费的时间，单位为毫秒 |

#### 3.4  返回示例

```json

{
    "info":[
                    {"label":0,rect":[400,0,194,1113]},
                    {"label":1,"rect":[176,0,219,1040]}
                   ],
    "error_id":0,
    "error_message":"clothes detect success",
    "person_nums":2,
    "request_id":"bd520980-99c4-4793-8d03-63f551dfa40d",
    "time_used":65
}

```

### 4、护目镜检测

#### 4.1  描述

传入图片进行护目镜检测。

传入一张图片，对图片中人员人否佩戴护目镜进行检测，返回人员数量和是否戴护目镜。

#### 4.2  请求

调用地址：tcp://127.0.0.1:5559

接口ID： 33

请求方式：zmq

请求类型：json message

频率控制：无

| 是否必选 | 参数名 | 类型 | 参数说明 |

| :------: | :----: | :--: | :------: |

| 必选 | interface | String | 调用此API的API ID |

| 必选 | api\_key | String | 调用此 API 的 API Key |

| 必选 | image\_base64 | String| 图片 base64 编码 |

| 可选 | threshold | Float | 0-1，默认为0.6 |

#### 4.3  返回

返回类型：JSON

| 参数名 | 类型 | 参数说明 |

| :----: | :--: | :------: |

| request\_id | String | 用于区分每一次请求的唯一的字符串 |

| person\_nums | Int | 图片中人员数量 |

| info | Array | 人员护目镜信息 |

| info.label | int| 0 -- 戴护目镜 ； 1 -- 未 戴护目镜|

|info.rect | Array | 人员的轮廓，四个数据分别为左上宽高|

| error\_id | Int | 0则检测成功 |

| error\_message | String |&quot;glasses detect success&quot; 检测成功 |

| time\_used | Int | 整个请求所花费的时间，单位为毫秒 |

#### 4.4  返回示例

```json

{
    "info":[
                    {"label":0,rect":[400,0,194,1113]},
                    {"label":1,"rect":[176,0,219,1040]}
                   ],
    "error_id":0,
    "error_message":"glasses detect success",
    "person_nums":2,
    "request_id":"bd520980-99c4-4793-8d03-63f551dfa40d",
    "time_used":65
}

```

### 5、人员检测

#### 5.1  描述

传入图片进行人员检测。

传入一张图片，对图片中人员进行检测，返回人员数量和坐标框。

#### 5.2  请求

调用地址：tcp://127.0.0.1:5559

接口ID： 10

请求方式：zmq

请求类型：json message

频率控制：无

| 是否必选 | 参数名 | 类型 | 参数说明 |

| :------: | :----: | :--: | :------: |

| 必选 | interface | String | 调用此API的API ID |

| 必选 | api\_key | String | 调用此 API 的 API Key |

| 必选 | image\_base64 | String| 图片 base64 编码 |

| 可选 | threshold | Float | 0-1，默认为0.6 |

#### 5.3  返回

返回类型：JSON

| 参数名 | 类型 | 参数说明 |

| :----: | :--: | :------: |

| request\_id | String | 用于区分每一次请求的唯一的字符串 |

| person\_nums | Int | 图片中人员数量 |

| info | Array | 人员信息 |

|info.rect | Array | 人员的轮廓，四个数据分别为左上宽高|

| error\_id | Int | 0则检测成功 |

| error\_message | String |&quot;person detect success&quot; 检测成功 |

| time\_used | Int | 整个请求所花费的时间，单位为毫秒 |

#### 5.4  返回示例

```json

{
    "info":[
                    {rect":[400,0,194,1113]},
                    {"rect":[176,0,219,1040]}
                   ],
    "error_id":0,
    "error_message":"person detect success",
    "person_nums":2,
    "request_id":"bd520980-99c4-4793-8d03-63f551dfa40d",
    "time_used":65
}
```

### 6 、人脸检测

#### 6.1  描述

传入一张图片进行人脸检测和人脸分析。

可以检测图片内所有人脸，并对检测到的所有人脸进行分析，获得人脸的5个关键点和各类属性信息。

#### 6.2  请求

调用地址：tcp://127.0.0.1:5559

接口ID：5

请求方式：zmq

请求类型：json message

频率控制：有，每秒最多接收`maxRequests`个请求，超出限制返回`error_message: 10008`

| 是否必选 | 参数名 | 类型 | 参数说明 |

| :------: | :----: | :--: | :------: |

| 必选 | interface | String | 调用此API的API ID |

| 必选 | api\_key | String | 调用此API的API Key |

| 必选 | image\_base64 | String | 图片 base64数据 |

\&lt;!-- | 可选 | image\_id | String | 图片编号（唯一，track模式下可选，detect模式下无用） |

| 可选 | camera\_id | String | 摄像机编号（唯一，track模式下必选，detect模式下无用） | --\&gt;

#### 6.3  返回

返回类型：JSON

| 参数名 | 类型 | 参数说明 |

| :----: | :--: | :------: |

| request\_id | String | 用于区分每一次请求的唯一的字符串 |

| time\_used | Int | 整个请求所花费的时间，单位为毫秒 |

| error\_message | String | success检测到人脸; |

| detect\_nums | int | 图片中人脸个数 |

| detect | Array | 当前图片中人脸的信息 |

| detect.left | Int | 人脸框左上角的横坐标 |

| detect.top | Int | 人脸框左上角的纵坐标 |

| detect.width | Int | 人脸框宽度 |

| detect.height | Int | 人脸框高度 |

| detect.score | Double | 人脸置信度 |

| detect.landmark | Object | 人脸特征点的坐标，依次左眼、右眼，鼻尖，左嘴角、右嘴角 |

#### 6.4  返回示例

```json

{
    "detect":[
                {
                    "height":88,
                    "landmark":{"x":[20,52,36,23,49],"y":[36,37,56,67,68]},
                    "left":1738,
                    "score":0.98999875783920288,
                    "top":270,
                    "width":72
                },
                {
                    "height":107,
                    "landmark":{"x":[19,56,37,26,57],"y":[44,41,61,80,78]},
                    "left":867,
                    "score":0.97505742311477661,
                    "top":264,
                    "width":84
                }
            ],
    "detect_nums":2,
    "error_id":0,
    "error_message":"success",
    "maxface_index":1,
    "request_id":"31e7b03e-2998-4b6f-925c-6c59695b77dd",
    "time_used":59
}

```

### 7 、人脸特征提取

#### 7.1  描述

传入图片进行人脸特征提取。

可以传入多张图片分别提取人脸特征,每张图片中,只对人脸框面积最大的 1 个人脸进行特征提取,最终返回每张图片的人脸特征。

#### 7.2  请求

调用地址：tcp://127.0.0.1:5559

接口ID：6

请求方式：zmq

请求类型：json message

频率控制：无

| 是否必选 | 参数名 | 类型 | 参数说明 |

| :------: | :----: | :--: | :------: |

| 必选 | interface | String | 调用此API的API ID |

| 必选 | api\_key | String | 调用此API的API Key |

| 必选 | image\_base64 | Array | 图片base64编码 |

| 必选 | landmarks | Array | 人脸特征点，依次左眼、右眼，鼻尖，左嘴角、右嘴角（不使用landmarks系统会先进行人脸检测） |

#### 7.3  请求示例

```json
{ 
  interface：'6',
  api_key: '', 
  image_base64: ['base64...', 'base64...', 'base64...'],
  landmark: [
  { x: [ 2398, 2439, 2420, 2400, 2436 ], y: [ 459, 454, 483, 498, 493 ] }, 
  { x: [ 2398, 2439, 2420, 2400, 2436 ], y: [ 459, 454, 483, 498, 493 ] }, 
  { x: [ 2398, 2439, 2420, 2400, 2436 ], y: [ 459, 454, 483, 498, 493 ] }
  ]
}

```

#### 7.4  返回

返回类型：JSON

| 参数名 | 类型 | 参数说明 |

| :----: | :--: | :------: |

| request\_id | String | 用于区分每一次请求的唯一的字符串 |

| time\_used | Int | 整个请求所花费的时间，单位为毫秒 |

| error\_message | String | success提取成功 |

| feature | Array | 每个图片的特征|

| dimension | Int | 特征维数|

#### 7.5  返回示例

```json

{ 
        dimension: 512,
        error_message: 'success',
        feature:
        [ 
            [Object],
            [Object]
        ],
        request_id:
        '3daa9e2e-1a49-4614-a19e-58fc74878b56',
        time_used: 64 
}

```

### 8、人脸1:N搜索

#### 8.1  描述

传入不多于3张图片,在人脸用户分组中搜索出最相似的一张人脸,并返回置信度。

#### 8.2  请求

调用地址：tcp://127.0.0.1:5559

接口ID：1

请求方式：zmq

请求类型：json message

频率控制：有，每秒最多接收`maxRequests`个请求，超出限制返回`error_message: 10008`

| 是否必选 | 参数名 | 类型 | 参数说明 |

| :------: | :----: | :--: | :------: |

| 必选 | interface | String | 调用此API的API ID |

| 必选 | api\_key | String | 调用此API的API Key |

| 必选 | group\_id | String | 人脸用户分组 |

| 必选 | score | Float | 相似度阈值 |

| 必选 | topk | Int | 查询最近邻的个数(1-5) |

| 可选 | field | String | 填写&#39;feature&#39;表示使用feature搜索模式，反之使用图片搜索，二选一 |

| 可选 | feature | Array | 要搜索的feature（512维特征向量） |

| 可选 | image\_base64 | Array | 图片base64编码 |

#### 8.3  返回

返回类型：JSON

| 参数名 | 类型 | 参数说明 |

| :----: | :--: | :------: |

| request\_id | String | 用于区分每一次请求的唯一的字符串 |

| face\_id | Array | 搜索出最相似的id (最近邻的k个)|

| score | Array | 分数0~100 (最近邻的k个)|

| time\_used | Int | 整个请求所花费的时间，单位为毫秒 |

| error\_id | Int | 0查找成功;1查找失败 |

| error\_message | String | 搜索成功：search success;未找到一个相似的人脸：search failed |

#### 8.4  返回示例

```json

{ error_id: 0,
  error_message: 'search success',
  face_id: [ 3 ],
  request_id: 'd1787491-7ef8-4d5c-8e7f-2d7f21cca5a6',
  score: [ 53.83427047729492 ],
  time_used: 56 
}

```

### 9、人脸1:1对比

#### 9.1  描述

传入两张图片判断是否为同一个人。

传入两张人脸图片后分别进行人脸检测与特征提取，然后进行特征比对并返回两张人脸的相似度，当相似度大于阈值时判断为同一个人，否则判断为不是同一个人。

#### 9.2  请求

调用地址：tcp://127.0.0.1:5559

接口ID：4

请求方式：zmq

请求类型：json message

频率控制：有，每秒最多接收`maxRequests`个请求，超出限制返回`error_message: 10008`

| 是否必选 | 参数名 | 类型 | 参数说明 |

| :------: | :----: | :--: | :------: |

| 必选 | interface | String | 调用此API的API ID |

| 必选 | api\_key | String | 调用此API的API Key |

| 必选 | image\_base64 | Array | 图片base64编码 |

#### 9.3  返回

返回类型：JSON

| 参数名 | 类型 | 参数说明 |

| :----: | :--: | :------: |

| request\_id | String | 用于区分每一次请求的唯一的字符串 |

| score | Double | 两张人脸相似度(0~100) |

| time\_used | Int | 整个请求所花费的时间，单位为毫秒 |

| error\_id | Int | 0两人脸相似;1两人脸不相似 |

| error\_message | String | 相似度大于阈值返回&quot;compare success&quot;;相似度小于阈值返回&quot;compare failed&quot; |

| 注：默认阈值为0.66 |

#### 9.4  返回示例

```json

{ 
  error_id: 0,
  error_message: 'compare success',
  request_id: '8cfaed82-67e0-49e0-b808-bb210f2f7225',
  score: 92.7913818359375,
  time_used: 61 
}

```

### 10、奔跑检测

#### 10.1  描述

传入图片进行奔跑检测。

传入一张图片，对图片中行人进行奔跑检测，返回奔跑者的数量和位置信息。

#### 10.2  请求

调用地址：tcp://127.0.0.1:5559

接口ID： 25

请求方式：zmq

请求类型：json message

频率控制：无

| 是否必选 | 参数名 | 类型 | 参数说明 |

| :------: | :----: | :--: | :------: |

| 必选 | interface | String | 调用此API的API ID |

| 必选 | api\_key | String | 调用此 API 的 API Key |

| 必选 | image1\_base64 | String| 图片 base64 编码 |

| 可选 | threshold | Float | 0-1，默认为0.5 |

#### 10.3  返回

返回类型：JSON

| 参数名 | 类型 | 参数说明 |

| :----: | :--: | :------: |

| error\_id | Int | 0则检测成功 |

| request\_id | String | 用于区分每一次请求的唯一的字符串 |

| time\_used | Int | 整个请求所花费的时间，单位为毫秒 |

| error\_message | String |&#39;runner detect success&#39; 检测到行人 |

| time\_used | Int | 整个请求所花费的时间，单位为毫秒 |

| runner | Array | 每个奔跑者的信息|

| runner.nums | Int | 奔跑者数量|

| result.rect | Array | 奔跑者的轮廓，四个数据分别为左上宽高|

#### 10.4  返回示例

```json

{
    "error_id":0,
    "error_message":"runner detect success",
    "request_id":"68072170-d557-4b1b-b27f-8f73a04f2aff",
    "runner":[{"nums":1,"rect":[[630,89,204,412]]}],
    "time_used":56
}

```

### 11、物品丢失检测

#### 11.1  描述

传入图片进行物品丢失检测。

传入一张图片，对图片中物品是否丢失进行检测，返回前后两张图片的相似度。

#### 11.2  请求

调用地址：tcp://127.0.0.1:5559

接口ID： 28

请求方式：zmq

请求类型：json message

频率控制：无

| 是否必选 | 参数名 | 类型 | 参数说明 |

| :------: | :----: | :--: | :------: |

| 必选 | interface | String | 调用此API的API ID |

| 必选 | api\_key | String | 调用此 API 的 API Key |

| 必选 | image1\_base64 | String| 图片 base64 编码 （两张图片）|

#### 11.3  返回

返回类型：JSON

| 参数名 | 类型 | 参数说明 |

| :----: | :--: | :------: |

| request\_id | String | 用于区分每一次请求的唯一的字符串 |

| time\_used | Int | 整个请求所花费的时间，单位为毫秒 |

| error\_id | Int | 0则检测成功 |

| error\_message | String |&quot;things detect success&quot; 检测成功 |

| time\_used | Int | 整个请求所花费的时间，单位为毫秒 |

#### 11.4  返回示例

```json

{
    "error_id":0,
    "error_message":"things detect success",
    "request_id":"25d7c348-a435-49e3-8d27-cc04695d721f",
    "similarity":0.82400894165039062,
    "time_used":69
}

```

### 12、烟火检测

#### 12.1  描述

传入图片进行烟火检测。

传入一张图片，对图片进行烟火检测，返回烟火的种类与轮廓。

#### 12.2  请求

调用地址：tcp://127.0.0.1:5559

接口ID： 30

请求方式：zmq

请求类型：json message

频率控制：无

| 是否必选 | 参数名 | 类型 | 参数说明 |

| :------: | :----: | :--: | :------: |

| 必选 | interface | String | 调用此API的API ID |

| 必选 | api\_key | String | 调用此 API 的 API Key |

| 必选 | image\_base64 | String| 图片 base64 编码 |

| 可选 | smoke\_threshold | Float | 0-1，默认为0.6 |

| 可选 | fire\_threshold | Float | 0-1，默认为0.6 |

#### 12.3  返回

返回类型：JSON

| 参数名 | 类型 | 参数说明 |

| :----: | :--: | :------: |

| request\_id | String | 用于区分每一次请求的唯一的字符串 |

| data | Array | 烟火情况，若为null则为无烟火 |

| left | Int | 烟火框左上角的横坐标 |

| top | Int | 烟火框左上角的纵坐标 |

| width | Int | 烟火框宽度 |

| height | Int | 烟火框高度 |

| type | Int | 烟火种类，0表示烟，1表示火 |

| error\_id | Int | 0则检测成功 |

| error\_message | String |&quot;smoke fire detect success&quot; 检测成功 |

| time\_used | Int | 整个请求所花费的时间，单位为毫秒 |

#### 12.4  返回示例

```json

{
    "error_id":0,
    "error_message":"smoke fire detect success",
    "request_id":"8d7ca3ae-d5f3-46cd-9798-7d0352c1fe6f",
    "data":
        {
         {"smoke_fire":[
                        {"type":0,"left":130,"top":364,"width":89,"height":185},
                        {"type":1,"left":209,"top":2,"width":231,"height":403}
                       ]
         }
        },
    "time_used":44
}

```

### 13、人员聚集检测

#### 13.1  描述

传入图片进行人群计数。

传入一张图片，对图片进行人群计数，返回人的数量。

#### 13.2  请求

调用地址：tcp://127.0.0.1:5559

接口ID： 19

请求方式：zmq

请求类型：json message

频率控制：无

| 是否必选 | 参数名 | 类型 | 参数说明 |

| :------: | :----: | :--: | :------: |

| 必选 | interface | String | 调用此API的API ID |

| 必选 | api\_key | String | 调用此 API 的 API Key |

| 必选 | image\_base64 | String| 图片 base64 编码 |

| 必选 | isDense | Bool | ture则为密集人群计数，false则为稀疏人群计数，默认为false,目前仅实现了false的情况 |

#### 13.3  返回

返回类型：JSON

| 参数名 | 类型 | 参数说明 |

| :----: | :--: | :------: |

| request\_id | String | 用于区分每一次请求的唯一的字符串 |

| nums | Int | 人的数量 |

| error\_id | Int | 0则检测成功 |

| error\_message | String |&quot;crowd count success&quot; 检测成功 |

| time\_used | Int | 整个请求所花费的时间，单位为毫秒 |

#### 13.4  返回示例

```json

{
    "error_id":0,
    "error_message":"crowd count success",
    "nums":69,
    "request_id":"356b719a-46fb-402f-b082-9479abf474aa",
    "time_used":65
}

```

### 14、区域入侵检测

#### 14.1  描述

传入图片进行区域入侵检测。

传入一张图片，对图片进行区域入侵检测，返回区域内目标的坐标。

#### 14.2  请求

调用地址：tcp://127.0.0.1:5559

接口ID： 31

请求方式：zmq

请求类型：json message

频率控制：无

| 是否必选 | 参数名 | 类型 | 参数说明 |

| :------: | :----: | :--: | :------: |

| 必选 | interface | String | 调用此API的API ID |

| 必选 | api\_key | String | 调用此 API 的 API Key |

| 必选 | image\_base64 | String| 图片 base64 编码 |

| 可选 | threshold | Float | 0-1，默认为0.6 |

#### 14.3  返回

返回类型：JSON

| 参数名 | 类型 | 参数说明 |

| :----: | :--: | :------: |

| request\_id | String | 用于区分每一次请求的唯一的字符串 |

| id | Int | 目标Id |

| rect | Array | 四个区域内目标的轮廓参数，依此为左上宽高 |

| error\_id | Int | 0则检测成功 |

| error\_message | String |&quot;crowd count success&quot; 检测成功 |

| time\_used | Int | 整个请求所花费的时间，单位为毫秒 |

#### 14.4  返回示例

```json

{
	"error_id": 0,
	"error_message": "region invade detect success",
	"data": [{
		"region_invade_info": [{
			"id": 1,
			"rect": [817.0, 717.0, 365.0, 362.0]
		}, {
			"id": 2,
			"rect": [702.0, 75.0, 319.0, 963.0]
		}, {
			"id": 3,
			"rect": [705.0, 7.0, 345.0, 333.0]
		}, {
			"id": 4,
			"rect": [968.0, 1.0, 148.0, 306.0]
		}, {
			"id": 5,
			"rect": [549.0, 8.0, 100.0, 208.0]
		}]
	}],
	"request_id": "b31f94bc-9abc-43f2-bc35-b3e0e69708d6",
	"time_used": 49
}

```

### 15、车辆及车牌检测

#### 15.1  描述

传入图片进行车辆及车牌检测。

传入一张图片，对图片中车辆进行检测，返回车辆数量和轮廓以及车牌的识别结果和轮廓。

#### 15.2  请求

调用地址：tcp://127.0.0.1:5559

接口ID： 22

请求方式：zmq

请求类型：json message

频率控制：无

| 是否必选 | 参数名 | 类型 | 参数说明 |

| :------: | :----: | :--: | :------: |

| 必选 | interface | String | 调用此API的API ID |

| 必选 | api\_key | String | 调用此 API 的 API Key |

| 必选 | image1\_base64 | String| 图片 base64 编码 |

| 可选 | car\_threshold | Float | 0-1，默认为0.7 |

| 可选 | card\_threshold | Float | 0-1，默认为0.75 |

#### 15.3  返回

返回类型：JSON

| 参数名 | 类型 | 参数说明 |

| :----: | :--: | :------: |

| car\_card\_info | Array | 车辆车牌信息 |

| car\_card\_info.cards | Array | 车牌的信息 |

| car\_card\_info.cars | Array | 车辆的信息 |

| car\_card\_info.cars\_num | Array | 图片中检测到的车辆的数量 |

| cards.rect | Array | 车牌的四个轮廓参数，依此为左上宽高 |

| cars.rect | Array | 车辆的四个轮廓参数，依此为左上宽高 |

| cars.car\_NO | Int | 图中的车辆编号 |

| cards.car\_NO | Int | 车牌所对应的车辆编号 |

| cars.confidence | Double | 图中的车辆置信度 |

| cards.confidence | Double | 车牌置信度 |

| cards.name | String | 识别获得的车牌号码 |

| cards.type | String | 车牌颜色（暂时无用） |

| request\_id | String | 用于区分每一次请求的唯一的字符串 |

| error\_id | Int | 0则检测成功 |

| error\_message | String |&quot;car card detect success&quot; 检测成功 |

| time\_used | Int | 整个请求所花费的时间，单位为毫秒 |

#### 15.4  返回示例

```json

{
    "car_card_info":[
                        {
                        "cards":[
                                {"car_NO":1,"confidence":0.98088991641998291,"name":"新JH2181","rect":[369,201,137,45],"type":"BLUE"},
                                {"car_NO":2,"confidence":0.97927373647689819,"name":"新JG0157","rect":[1150,647,173,68],"type":"BLUE"}
                                ],
                        "cars":[
                                {"car_NO":1,"confidence":0.99714016914367676,"rect":[233,0,456,299]},
                                {"car_NO":2,"confidence":0.99605143070220947,"rect":[975,332,602,534]}
                               ],
                        "cars_num":2
                        }
                    ],
    "error_id":0,
    "error_message":"car card detect success",
    "request_id":"fa82c9cd-f082-4328-8d71-72897b251606",
    "time_used":137
}

```