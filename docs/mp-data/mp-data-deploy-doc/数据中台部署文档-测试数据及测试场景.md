# 数据中台部署文档-测试数据及测试场景


## 离线数据

### 离线数据从mysql接入安防数据

```
#数据库连接信息
jdbc:mysql://172.18.8.77:3306/hadoopdszdb?useUnicode=true&characterEncoding=UTF-8&serverTimezone=GMT%2B8
root
123456
```

**区域数据d_area**   
```
CREATE TABLE `d_area` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=101 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;
```


**人员出入数据,条数44497301**  
```

CREATE TABLE `y_pass_records` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `sysNo` varchar(15) DEFAULT NULL COMMENT '系统的编号',
  `empName` varchar(255) DEFAULT NULL COMMENT '通过人的名字',
  `idCard` varchar(255) DEFAULT NULL COMMENT '身份证',
  `empId` varchar(20) DEFAULT NULL COMMENT '员工ID',
  `departId` int(11) DEFAULT NULL COMMENT '部门号',
  `deaprtName` varchar(255) DEFAULT NULL COMMENT '部门名字',
  `machineId` varchar(120) DEFAULT NULL COMMENT '设备的编号',
  `machineName` varchar(255) DEFAULT NULL COMMENT '设备的名字',
  `areaId` int(11) DEFAULT NULL,
  `areaName` varchar(255) DEFAULT NULL,
  `passType` varchar(255) DEFAULT NULL COMMENT '通过类型\r\n1、刷CPU卡\r\n2、人脸识别\r\n3、刷CPU卡+人脸\r\n4、刷身份证\r\n5、身份证+人脸\r\n',
  `passTime` datetime DEFAULT NULL COMMENT '通过的时间戳',
  `status` smallint(5) DEFAULT NULL COMMENT '通行状态：1-正常 2-异常 0-未通行  3 黑名单',
  `isAccess` varchar(1) DEFAULT NULL COMMENT '是否有权限通过  1  有 0  没有',
  `snapshotUri` varchar(255) DEFAULT NULL COMMENT '通过时候的存档照片',
  `snapshotUri1` varchar(255) DEFAULT NULL COMMENT '通过时候的存档照片1',
  `snapshotUri2` varchar(255) DEFAULT NULL COMMENT '通过时候的存档照片2',
  `snapshotUri3` varchar(255) DEFAULT NULL COMMENT '通过时候的存档照片3',
  `dataType` varchar(255) DEFAULT NULL COMMENT '记录数据的来源\r\nocs、门径   \r\nacs、车辆   \r\njoy、闸机   \r\nface、人脸识别   \r\n\r\n',
  `position` varchar(500) DEFAULT NULL COMMENT '位置相关的坐标',
  `remark` varchar(50) DEFAULT NULL COMMENT '\r\n',
  `direction` varchar(2) NOT NULL COMMENT '0 不明 1 进  2出  ',
  `parentId` bigint(20) DEFAULT NULL COMMENT '多条记录  ，其中一条为主要的记录，其他的当作主记录的子记录',
  `inside` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`id`) USING BTREE,
  KEY `passTime` (`passTime`) USING BTREE,
  KEY `empName` (`empName`) USING BTREE,
  KEY `idCard` (`idCard`) USING BTREE,
  KEY `areaId` (`areaId`) USING BTREE,
  KEY `direction` (`direction`) USING BTREE,
  KEY `empId` (`empId`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=44497302 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;
```

** 车辆出入数据,条数29746376**
```
CREATE TABLE `y_car_records` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `owner` varchar(255) DEFAULT NULL COMMENT '车的属主的姓名',
  `carCode` varchar(255) DEFAULT NULL COMMENT '车牌',
  `idCard` varchar(22) DEFAULT NULL COMMENT '车的属主的身份证',
  `empId` varchar(20) DEFAULT NULL COMMENT '属主的员工ID',
  `passTime` datetime DEFAULT NULL COMMENT '通过的时间戳',
  `position` varchar(500) DEFAULT NULL COMMENT '点位i的坐标信息',
  `direction` varchar(255) DEFAULT NULL COMMENT '方向 0:进场，1：出场',
  `parkId` varchar(20) DEFAULT NULL COMMENT '车场ID',
  `channelId` varchar(30) DEFAULT NULL COMMENT '通道ID',
  `channelName` varchar(66) DEFAULT NULL COMMENT '通道名字',
  `cameraName` varchar(90) DEFAULT NULL COMMENT '拍摄相机的名称',
  `snapshotUri` varchar(255) DEFAULT NULL COMMENT '通过时候的存档照片',
  `snapshotUri1` varchar(255) DEFAULT NULL COMMENT '通过时候的存档照片',
  `status` varchar(255) DEFAULT NULL COMMENT '1\r\n2\r\n3 黑名单车辆',
  `remark` varchar(255) DEFAULT NULL,
  `areaId` int(11) DEFAULT NULL,
  `areaName` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=29746377 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;
```

** 安防告警数据,条数32184379 **
```
CREATE TABLE `y_alarm_record` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `item_id` bigint(20) DEFAULT NULL COMMENT '点位id',
  `item_name` varchar(50) DEFAULT NULL COMMENT '点位名',
  `area_id` int(11) DEFAULT NULL COMMENT '区域id',
  `name` varchar(50) DEFAULT NULL COMMENT '报警名',
  `event_type` int(11) DEFAULT NULL COMMENT '报警类型(1周界报警 2出入口报警 3区域内报警 0其他)',
  `event_name` varchar(50) DEFAULT NULL,
  `time` datetime DEFAULT NULL COMMENT '报警时间',
  `result` int(11) DEFAULT NULL COMMENT '是否处理(1处理,0未处理)',
  `exe_result` varchar(50) DEFAULT NULL,
  `note` varchar(50) DEFAULT NULL,
  `alarm_type` int(11) DEFAULT NULL COMMENT '报警类型',
  `alarm_level` int(11) DEFAULT NULL COMMENT '报警级别',
  `duty_id` int(11) DEFAULT NULL COMMENT '值班人员ID',
  `dispose_time` datetime DEFAULT NULL COMMENT '处理时间',
  `zone_id` int(11) DEFAULT NULL COMMENT '防区id',
  `is_misinform` int(11) DEFAULT NULL COMMENT '是否误报(0是,1否)',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=32184380 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='报警记录表';
```


## 实时数据


### 视频抽帧数据（待补充）


### 视频流智能分析结果数据（待补充）